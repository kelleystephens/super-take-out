{"version":3,"file":"orders.js","sources":["/Users/Kelleystephens/Documents/Code/super-take-out/app/static/js/es6/orders.es6.js"],"names":[],"mappings":"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","sourcesContent":["/* global ajax */\n/* jshint unused:false */\n\n(function(){\n  'use strict';\n\n  $(document).ready(init);\n\n  function init(){\n    $('#order').on('change', '.menu', getMenu);\n    $('#add').click(addRow);\n    $('#order').on('click', '.remove', remove);\n    $('#order').on('change', '.dish', changeText);\n    $('#order').on('change', 'input', changeText);\n    $('#placeorder').click(placeOrder);\n  }\n\n  function placeOrder(){\n    $('#order').submit();\n  }\n\n  function changeText(){\n    var items = $('.formwrapper').toArray();\n    var total = 0;\n    var totalCals = 0;\n    items.forEach(i=>{\n      if($(i).children('.dish').find('option:selected').attr('data-cost') && ($(i).children('.qty').val() * 1) > 0){\n        var qty = $(i).children('.qty').val() * 1;\n        var cost = $(i).children('.dish').find('option:selected').attr('data-cost') * 1;\n        var sum = qty * cost;\n        total += sum;\n        totalCals += qty * ($(i).children('.dish').find('option:selected').attr('data-cals') * 1);\n      }\n    });\n    $('#totalcost').text(`Total: $${total.toFixed(2)}`);\n    $('#totalcals').text(`Total Calories: ${totalCals}`);\n  }\n\n  function remove(e){\n    if($('.formwrapper').length > 1){\n      $(this).parent().remove();\n      changeText();\n    }\n    e.preventDefault();\n  }\n\n  function addRow(){\n    var form = $('#order').children(':last').clone();\n    $('#order').append(form);\n    $('.qty').last().val('');\n  }\n\n  function getMenu(){\n    var menu = $(this).val();\n    var next = $(this).next();\n    ajax(`/dishes/${menu}`, 'get', null, h=>{\n      next.empty().append(h);\n      changeText();\n    });\n  }\n})();\n"]}